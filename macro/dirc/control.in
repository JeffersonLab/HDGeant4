c INFILE 'bggen_500k.hddm'
c INFILE 'genp_pi0.hddm'

INFILE 'generated_hprime2600.hddm'
OUTFILE 'sim_hprime2600.hddm'

c TRIG 100



c POSTSMEAR  - set this 1 to auto-invoke the mcsmear program and 0 to not
POSTSMEAR 0
DELETEUNSMEARED 0


c particle  momentum  theta  phi  delta_momentum delta_theta delta_phi
c KINE    1050  0.000000003   90.  0.      0.            0.        0.
c KINE     114      4.       5.  -90.      0.            0.        0.
c KINE     112      4.       6.    0.      0.            10.        360.

c The SCAP card determines the vertex position for the particle gun.
c vertex_x vertex_y vertex_z (default 0,0,0)
c SCAP    0.      -44.4      595.5
c SCAP    0.      0.      65.

c            vertex_extent_r  vertex_extent_z
c TGTWIDTH           0.0              0.

c    fhalo
HALO  5e-5


c The following card tells the simulation to store particle trajectories
c in the event output stream.  This output can be verbose, use with caution.
c The value set here determines the amount of output recorded:
c
c TRAJECTORIES = 0  don't store trajectory info
c TRAJECTORIES = 1  store birth and death points of primary tracks
c TRAJECTORIES = 2  store birth and death points of all particles
c TRAJECTORIES = 3  store full trajectory of primary tracks
c TRAJECTORIES = 4  store full trajectory of primary tracks and birth/death points of secondaries
c TRAJECTORIES = 5  store full trajectory for all particles
c
TRAJECTORIES 0



c The following lines control the rate (GHz) of background beam photons
c that are overlayed on each event in the simulation, in addition to the
c particles produced by the standard generation mechanism. BGGATE expects
c two values in ns, which define the window around the trigger time that
c background beam photons are overlaid on the simulation. The value you
c should enter for BGRATE depends on many details of the photon beam: the
c endpoint energy, the low-energy cutoff to be used in generating beam
c photons, the location of coherent edge, the electron beam spot size and
c emittance at the primary collimator, the electron beam current, etc. To
c find the setting that is right for you, follow these steps in order.
c  1) Check the BEAM card above that it has correct values for the electron
c     beam energy (field 1) and the low-energy cutoff that you want to use
c     in your simulation (field 3). Remember these values.
c  2) Open a new tab in a web browser and enter the following URL,
c     http://zeus.phys.uconn.edu/halld/cobrems/ratetool.cgi which displays
c     a form containing many fields describing the electron beam and the
c     photon beamline. Enter the correct values in all fields in the
c     left-most column of parameters. The right column of parameters 
c     defines the windows over which the tool will compute integrals of
c     the beam rate. Set the "end-point" window to span the full range
c     from your beamEmin (see step 1 above) to the electron beam endpoint,
c     Then click the Plot Spectrum button. After a few seconds, the form will
c     respond with a few plots and rate numbers in bold text. Record the
c     value given for the "end-point rate". This is your BGRATE value.
c  3) Enter your BGRATE value found in step 2 after BGRATE in the line
c     below, and remove any characters before the BGRATE keyword. You are
c     now ready to go. If you ever change anything in the beamline geometry
c     eg. the collimator diameter, the coherent edge position, or the value
c     of beamEmin, do not forget to come back and change your BGRATE.
BGGATE -200. 200.
BGRATE 4.80

c The above cards BGRATE, BGGATE normally cause the simulation to add
c accidental tagger hits to the simulated output record, in addition to
c adding these beam photons to the list of particles to be tracked through
c the detector. If you want the accidental tagger hits to be added to the
c simulated output record but you do not want to track the background
c beam photons, remove the comment in front of BGTAGONLY below.
c NOTICE: If you turn on BGTAGONLY then you might as well raise the
c minimum energy of beam photons being generated to the lower bound of
c the tagger energy range you are interested in, which might be 3 GeV for
c low-intensity running, 7 GeV for high-intensity running, or even 8 GeV
c if you are only interested in the region of the coherent peak. This
c minimum is the third field of the BEAM card above. Remember that if
c you change beamEmin, you also need to change BGRATE to match, as 
c described above.
BGTAGONLY 1

c The following line controls the uncertainty of the event time reference
c relative to the RF structure of the beam. The event time reference is
c normally set by the level 1 trigger, whose transitions are synced to
c a clock in the trigger processor whose resolution is more coarse than
c the accelerator RF clock. Using a digitized copy of the RF clock signal,
c all times in the event can be synchronized offline to a nearby RF bucket,
c but the RF bucket closest to the trigger time will not in general be the 
c one that contained the beam photon that produced the trigger. The spread
c of trigger RF buckets times relative to the interaction RF bucket is
c set by the TREFSIGMA card below, specified as a RMS value in ns. The
c the displacement of the (unknown) true RF bucket from the trigger RF
c bucket will be generated by the simulation in multiples of 2 ns. If
c this line is commented out, a default value of 10ns is assumed. The
c decimal point is significant.
TREFSIGMA 10.

RNDM 3


TOFMAX 1e-5

c The following line controls a set of generic flags that are used to
c control aspects of the simulation generally related to debugging.
c For normal debugging runs these should be left at zero (or omitted).
c At present the following functionality is defined (assumes debug on).
c  SWIT(2) = 0 turns off trajectory tracing
c          = 2 turns on step-by-step trace during tracking (verbose!)
c          = 3 turns on trajectory plotting after tracking is done
c          = 4 turns on step-by-step plotting during tracking
c  SWIT(3) = 1 stores track trajectories for plotting after tracking is done
c  SWIT(4) = 0 trace trajectories of all particle types
c          = 3 trace only charged particle trajectories
c This card is only supported by hdgeant3.
SWIT 0 0 0 0 0 0 0 0 0 0

c The following card enables the GelHad package (from BaBar)
c   on/off  ecut   scale   mode   thresh
c This card is only supported by hdgeant3.
GELH  1     0.2     1.0     4     0.160

c The following card selects the hadronic physics package
c   HADR 0	no hadronic interactions
c   HADR 1	GHEISHA only (default)
c   HADR 2	GHEISHA only, with no generation of secondaries
c   HADR 3      FLUKA (with GHEISHA for neutrons below 20MeV)
c   HADR 4	FLUKA (with MICAP for neutrons below 20MeV)
HADR 1

c The following cards are needed if optical photons are being
c being generated and tracked in the simulation.  The CKOV directive
c enables Cerenkov generation in materials for which the refractive
c index table has been specified.  The LABS card enables absorption
c of optical photons.  The ABAN directive controls a special feature
c of Geant which allows it to "abandon" tracking of charged particles
c once their remaining range drops below the distance to the next
c discrete interaction or geometric boundary.  Particles abandoned
c during tracking are stopped immediately and dump all remaining energy
c where they lie.  The remaining energy is dumped in the correct volume
c so this is OK in most cases, but it can cut into the yield of
c Cerenkov photons (eg. in a lead glass calorimeter) at the end of
c a particle track.  If this might be important, set ABAN to 0.
CKOV 1
LABS 1

c The following card prevents GEANT tracking code from abandoning the
c tracking of particles near the end of their range, once it determines
c that their fate is just to stop (i.e. electrons and protons).  This
c behaviour is normal in most cases, but in the case of Cerenkov light
c generation it leads to an underestimate for the yields.
c   ABAN 1	abandon stopping tracks (default)
c   ABAN 0	do not abandon stopping tracks
c This card is only supported by hdgeant3.
ABAN 0

c The following card sets up the simulation to perform debugging on
c a subset of the simulated events.
c DEBUG first last step
c  - first (int) = event number of first event to debug
c  - last (int) = event number of last event to debug
c  - step (int) = only debug one event every step events
DEBU 1 10 1000

c The following card can be used to turn off generation of secondary
c particles in the simulation, ordinarily it should be 0 (or omitted).
NOSECONDARIES 0


c The following tracking parameters are defined for each tracking medium
c   TMAXFD (REAL) maximum angular deviation due to the magnetic field
c                 permitted in one step (degrees)
c   DEEMAX (REAL) maximum fractional energy loss in one step (0< DEEMAX <=0.1)
c   STEMAX (REAL) maximum step permitted (cm)
c   STMIN  (REAL) minimum value for the maximum step imposed by energy loss,
c                 multiple scattering, Cerenkov or magnetic field effects (cm)
c Normally they are assigned appropriate values calculated automatically by
c Geant when the geometry is defined, overwriting the values declared by
c the user code in the GSTMED() call.  Users who know what they are doing can
c force Geant to instead use the values passed in the arguments to GSTMED()
c by removing the comment in front of the following card.  Any parameters with
c zero values are still assigned automatic values even when AUTO is turned off.
c This card is only supported by hdgeant3.
cAUTO 0

c The magnetic field map is accessed through the HDGEOMETRY library
c so that the same map can be used for both simulation and reconstruction.
c There are multiple map types and for each type, more than one map may
c exist. The map types consist of the default type of "CalibDB", the 
c constant type of "Const", the spoiled field type of "Spoiled", or
c "NoField" if the simulation should be performed with the solenoid off.
c The type is set using the BFIELDTYPE card. If no BFIELDTYPE card is
c present, then no the default type "CalibDB" is used.
c The specific parameters used for the field can be specified using the
c BFIELDMAP card. If undefined, then the default that is hardcoded into
c the HDGEOMETRY library is used. Note that these correspond to the
c similarly named configuration parameters used in the reconstruction,
c the difference being that underscores are not allowed here. To
c specify the values to the reconstruction code used here, use the
c -PBFIELD_TYPE=CalibDB and -PBFIELD_MAP=Magnets/Solenoid/solenoid_1500
BFIELDMAP 'Magnets/Solenoid/solenoid_1200A_poisson_20140520'
cBFIELDTYPE 'NoField'

c The pair spectrometer magnetic field map can also be accessed through the
c HDGGEOMTRY library in a similar fashion to the solenoid field. The cards
c PSBFIELDMAP and PSBFIELDTYPE correspond in form and meaning to BFIELDMAP
c and BFIELDTYPE, except that only "Const" and "CalibDB" (default) are
c supported values for PSBFIELDTYPE. To specify the values used here to
c the reconstruction code, use options -PPSBFIELD_TYPE=CalibDB and 
c -PPSBFIELD_MAP=Magnets/PairSpectrometer/PS_1.8T_20150513_test
c on the jana command line.
PSBFIELDMAP 'Magnets/PairSpectrometer/PS_1.8T_20150513_test'
cPSBFIELDTYPE 'Const'

c Use this card to enable/disable ( SAVEHITS  1/0 ) writing events with no 
c hits in the detector to the hddm output file. Default value is 0.
  SAVEHITS  0

  SHOWERSINCOL 0


  DRIFTCLUSTERS 0

END
